## 进程基础

### fork函数

-   作用：用于用户创建子进程，在调用fork后，将原进程的地址空间完完全权的复制了一份，并且在复制完后，操作系统会修改子进程空间fork函数的返回值，修改为0
-   函数原型：`pid_t fork(void)`，
-   返回值：
    -   当pid == 0 ： 说明是子进程
    -   当pid > 0： 说明是父进程，其返回值pid就是子进程的id号

-   可用getpid()与getppid()来得到进程的id与父进程的id

### 写时复制技术（COM技术）

-   定义：允许父进程和子进程最初共享相同的页面来工作。这些共享页面标记为写时复制，这意味着如果任何一个进程写入共享页面，那么就创建共享页面的副本。

![img](C:\Users\huany\Documents\note\pictures\2-1Q10Q45045312.gif)

-   好处：实现快速的进程创建，并最小化必须分配给新创建进程的新页面的数量。

