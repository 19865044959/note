## 如何用IMU与磁力计来校正姿态信息呢？

-   首先，IMU与磁力计的值作为观测量，可以直接解算出姿态信息，那么是否能够完全信任这些信息呢？因此提出了EKF，在原来的状态基础上，增加了观测值的估计值与观测值的真实值，将他们的差映射到状态上作为新一轮状态的最优状态估计值，以此不断更新状态。至于怎样求出观测值的估计值，那么就是EKF的五大方程的问题了

-   观测值：加速度、磁力计

-   状态值：姿态（四元数表示）、角速度偏置

## 如何用IMU、气压计来校正GPS呢？

-   GPS的更新速度很慢，通常只有5hz左右，这与控制频率为100hz的飞控系统来讲简直无法容忍，而我们用到的IMU与气压计更新频率则能够达到200HZ，用高速传感器来校正GPS信息，从而在GPS信息未更新前，GPS信息的进行预测，从而达到“扩展”GPS更新频率的目的。

-   观测值：LLH + Vx Vy

-   状态值：px py pz vx vy vz bias_accx bias_accy bias_accz

## 你对卡尔曼增益K有什么理解？

-   Kk包含了Q阵与R阵，即考虑到了状态噪声与观测噪声之间的比例关系。
-   卡尔曼滤波就是考虑到预测与观测值，而卡尔曼增益K就是确定预测与观测值之间的比例关系（即更信预测值还是观测值）
-   Q阵：状态噪声方差阵
-   R阵：观测噪声方差阵 
-   P阵：系统状态方差阵

## 什么是EKF？能知道哪个部分是非线性的吗？

-   标准卡尔曼滤波状态转移方程与观测方程：

<img src="../../pictures/image-20210524121245955.png" alt="image-20210524121245955" style="zoom:67%;" />

-   扩展卡尔曼滤波EKF的状态转移方程和观测方程为：

<img src="../../pictures/image-20210524121329501.png" alt="image-20210524121329501" style="zoom:67%;" />

-   即相比于标准卡尔曼滤波，扩展卡尔曼滤波的A、B、C阵都是非线性的

